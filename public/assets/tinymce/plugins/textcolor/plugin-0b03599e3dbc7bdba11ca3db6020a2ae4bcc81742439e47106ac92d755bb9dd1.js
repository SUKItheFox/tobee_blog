!function(){var t={},o=function(o){for(var r=t[o],n=r.deps,a=r.defn,l=n.length,c=new Array(l),i=0;i<l;++i)c[i]=e(n[i]);var u=a.apply(null,c);if(void 0===u)throw"module ["+o+"] returned undefined";r.instance=u},r=function(o,r,e){if("string"!=typeof o)throw"module id must be a string";if(void 0===r)throw"no dependencies for "+o;if(void 0===e)throw"no definition function for "+o;t[o]={deps:r,defn:e,instance:void 0}},e=function(r){var e=t[r];if(void 0===e)throw"module ["+r+"] was undefined";return void 0===e.instance&&o(r),e.instance},n=function(t,o){for(var r=t.length,n=new Array(r),a=0;a<r;++a)n[a]=e(t[a]);o.apply(null,n)};({}).bolt={module:{api:{define:r,require:n,demand:e}}};var a=r;(function(t,o){a(t,[],function(){return o})})("3",tinymce.util.Tools.resolve),a("1",["3"],function(t){return t("tinymce.PluginManager")}),a("4",["3"],function(t){return t("tinymce.dom.DOMUtils")}),a("5",["3"],function(t){return t("tinymce.util.Tools")}),a("6",[],function(){var t=["000000","Black","993300","Burnt orange","333300","Dark olive","003300","Dark green","003366","Dark azure","000080","Navy Blue","333399","Indigo","333333","Very dark gray","800000","Maroon","FF6600","Orange","808000","Olive","008000","Green","008080","Teal","0000FF","Blue","666699","Grayish blue","808080","Gray","FF0000","Red","FF9900","Amber","99CC00","Yellow green","339966","Sea green","33CCCC","Turquoise","3366FF","Royal blue","800080","Purple","999999","Medium gray","FF00FF","Magenta","FFCC00","Gold","FFFF00","Yellow","00FF00","Lime","00FFFF","Aqua","00CCFF","Sky blue","993366","Red violet","FFFFFF","White","FF99CC","Pink","FFCC99","Peach","FFFF99","Light yellow","CCFFCC","Pale green","CCFFFF","Pale cyan","99CCFF","Light sky blue","CC99FF","Plum"],o=function(o){return o.getParam("textcolor_map",t)},r=function(t){return t.getParam("forecolor_map",o(t))},e=function(t){return t.getParam("backcolor_map",o(t))},n=function(t){return t.getParam("textcolor_rows",5)},a=function(t){return t.getParam("textcolor_cols",8)},l=function(t){return t.getParam("forecolor_rows",n(t))},c=function(t){return t.getParam("backcolor_rows",n(t))},i=function(t){return t.getParam("forecolor_cols",a(t))},u=function(t){return t.getParam("backcolor_cols",a(t))},s=function(t){return t.getParam("color_picker_callback",null)};return{getForeColorMap:r,getBackColorMap:e,getForeColorRows:l,getBackColorRows:c,getForeColorCols:i,getBackColorCols:u,getColorPickerCallback:s,hasColorPicker:function(t){return"function"==typeof s(t)}}}),a("7",[],function(){return{getCurrentColor:function(t,o){var r;return t.dom.getParents(t.selection.getStart(),function(t){var e;(e=t.style["forecolor"===o?"color":"background-color"])&&(r=e)}),r},mapColors:function(t){var o,r=[];for(o=0;o<t.length;o+=2)r.push({text:t[o+1],color:"#"+t[o]});return r},applyFormat:function(t,o,r){t.undoManager.transact(function(){t.focus(),t.formatter.apply(o,{value:r}),t.nodeChanged()})},removeFormat:function(t,o){t.undoManager.transact(function(){t.focus(),t.formatter.remove(o,{value:null},null,!0),t.nodeChanged()})}}}),a("9",["3"],function(t){return t("tinymce.util.I18n")}),a("8",["4","9","6","7"],function(t,o,r,e){return{getHtml:function(r,n,a,l){var c,i,u,s,f,d,g,m=0,F=t.DOM.uniqueId("mcearia"),C=function(t,r){var e="transparent"===t;return'<td class="mce-grid-cell'+(e?" mce-colorbtn-trans":"")+'"><div id="'+F+"-"+m+++'" data-mce-color="'+(t||"")+'" role="option" tabIndex="-1" style="'+(t?"background-color: "+t:"")+'" title="'+o.translate(r)+'">'+(e?"&#215;":"")+"</div></td>"};for(c=e.mapColors(a),c.push({text:o.translate("No color"),color:"transparent"}),u='<table class="mce-grid mce-grid-border mce-colorbutton-grid" role="list" cellspacing="0"><tbody>',s=c.length-1,d=0;d<n;d++){for(u+="<tr>",f=0;f<r;f++)g=d*r+f,g>s?u+="<td></td>":(i=c[g],u+=C(i.color,i.text));u+="</tr>"}if(l){for(u+='<tr><td colspan="'+r+'" class="mce-custom-color-btn"><div id="'+F+'-c" class="mce-widget mce-btn mce-btn-small mce-btn-flat" role="button" tabindex="-1" aria-labelledby="'+F+'-c" style="width: 100%"><button type="button" role="presentation" tabindex="-1">'+o.translate("Custom...")+"</button></div></td></tr>",u+="<tr>",f=0;f<r;f++)u+=C("","Custom color");u+="</tr>"}return u+="</tbody></table>"}}}),a("2",["4","5","6","7","8"],function(t,o,r,e,n){var a=function(t,o){t.style.background=o,t.setAttribute("data-mce-color",o)},l=function(t){return function(o){var r=o.control;r._color?e.applyFormat(t,r.settings.format,r._color):e.removeFormat(t,r.settings.format)}},c=function(n,l){return function(c){var i,u=this.parent(),s=e.getCurrentColor(n,u.settings.format),f=function(t){u.hidePanel(),u.color(t),e.applyFormat(n,u.settings.format,t)},d=function(){u.hidePanel(),u.resetColor(),e.removeFormat(n,u.settings.format)};t.DOM.getParent(c.target,".mce-custom-color-btn")&&(u.hidePanel(),r.getColorPickerCallback(n).call(n,function(t){var r,e,n,c=u.panel.getEl().getElementsByTagName("table")[0];for(r=o.map(c.rows[c.rows.length-1].childNodes,function(t){return t.firstChild}),n=0;n<r.length&&(e=r[n],e.getAttribute("data-mce-color"));n++);if(n===l)for(n=0;n<l-1;n++)a(r[n],r[n+1].getAttribute("data-mce-color"));a(e,t),f(t)},s)),i=c.target.getAttribute("data-mce-color"),i?(this.lastId&&t.DOM.get(this.lastId).setAttribute("aria-selected",!1),c.target.setAttribute("aria-selected",!0),this.lastId=c.target.id,"transparent"===i?d():f(i)):null!==i&&u.hidePanel()}},i=function(t,o){return function(){var e=o?r.getForeColorCols(t):r.getBackColorCols(t),a=o?r.getForeColorRows(t):r.getBackColorRows(t),l=o?r.getForeColorMap(t):r.getBackColorMap(t),c=r.hasColorPicker(t);return n.getHtml(e,a,l,c)}};return{register:function(t){t.addButton("forecolor",{type:"colorbutton",tooltip:"Text color",format:"forecolor",panel:{role:"application",ariaRemember:!0,html:i(t,!0),onclick:c(t,r.getForeColorCols(t))},onclick:l(t)}),t.addButton("backcolor",{type:"colorbutton",tooltip:"Background color",format:"hilitecolor",panel:{role:"application",ariaRemember:!0,html:i(t,!1),onclick:c(t,r.getBackColorCols(t))},onclick:l(t)})}}}),a("0",["1","2"],function(t,o){return t.add("textcolor",function(t){o.register(t)}),function(){}}),e("0")()}();
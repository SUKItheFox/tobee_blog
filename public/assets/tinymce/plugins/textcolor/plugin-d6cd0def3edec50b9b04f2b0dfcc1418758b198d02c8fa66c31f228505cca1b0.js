!function(){var t={},o=function(o){for(var e=t[o],n=e.deps,l=e.defn,i=n.length,c=new Array(i),a=0;a<i;++a)c[a]=r(n[a]);var u=l.apply(null,c);if(u===undefined)throw"module ["+o+"] returned undefined";e.instance=u},e=function(o,e,r){if("string"!=typeof o)throw"module id must be a string";if(e===undefined)throw"no dependencies for "+o;if(r===undefined)throw"no definition function for "+o;t[o]={deps:e,defn:r,instance:undefined}},r=function(e){var r=t[e];if(r===undefined)throw"module ["+e+"] was undefined";return r.instance===undefined&&o(e),r.instance},n=function(t,o){for(var e=t.length,n=new Array(e),l=0;l<e;++l)n[l]=r(t[l]);o.apply(null,n)};({}).bolt={module:{api:{define:e,require:n,demand:r}}};var l=e;(function(t,o){l(t,[],function(){return o})})("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),l("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(t){return t("tinymce.PluginManager")}),l("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(t){return t("tinymce.dom.DOMUtils")}),l("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(t){return t("tinymce.util.Tools")}),l("tinymce.plugins.textcolor.api.Settings",[],function(){var t=["000000","Black","993300","Burnt orange","333300","Dark olive","003300","Dark green","003366","Dark azure","000080","Navy Blue","333399","Indigo","333333","Very dark gray","800000","Maroon","FF6600","Orange","808000","Olive","008000","Green","008080","Teal","0000FF","Blue","666699","Grayish blue","808080","Gray","FF0000","Red","FF9900","Amber","99CC00","Yellow green","339966","Sea green","33CCCC","Turquoise","3366FF","Royal blue","800080","Purple","999999","Medium gray","FF00FF","Magenta","FFCC00","Gold","FFFF00","Yellow","00FF00","Lime","00FFFF","Aqua","00CCFF","Sky blue","993366","Red violet","FFFFFF","White","FF99CC","Pink","FFCC99","Peach","FFFF99","Light yellow","CCFFCC","Pale green","CCFFFF","Pale cyan","99CCFF","Light sky blue","CC99FF","Plum"],o=function(o){return o.getParam("textcolor_map",t)},e=function(t){return t.getParam("forecolor_map",o(t))},r=function(t){return t.getParam("backcolor_map",o(t))},n=function(t){return t.getParam("textcolor_rows",5)},l=function(t){return t.getParam("textcolor_cols",8)},i=function(t){return t.getParam("forecolor_rows",n(t))},c=function(t){return t.getParam("backcolor_rows",n(t))},a=function(t){return t.getParam("forecolor_cols",l(t))},u=function(t){return t.getParam("backcolor_cols",l(t))},s=function(t){return t.getParam("color_picker_callback",null)};return{getForeColorMap:e,getBackColorMap:r,getForeColorRows:i,getBackColorRows:c,getForeColorCols:a,getBackColorCols:u,getColorPickerCallback:s,hasColorPicker:function(t){return"function"==typeof s(t)}}}),l("tinymce.plugins.textcolor.core.TextColor",[],function(){return{getCurrentColor:function(t,o){var e;return t.dom.getParents(t.selection.getStart(),function(t){var r;(r=t.style["forecolor"===o?"color":"background-color"])&&(e=r)}),e},mapColors:function(t){var o,e=[];for(o=0;o<t.length;o+=2)e.push({text:t[o+1],color:"#"+t[o]});return e},applyFormat:function(t,o,e){t.undoManager.transact(function(){t.focus(),t.formatter.apply(o,{value:e}),t.nodeChanged()})},removeFormat:function(t,o){t.undoManager.transact(function(){t.focus(),t.formatter.remove(o,{value:null},null,!0),t.nodeChanged()})}}}),l("tinymce.core.util.I18n",["global!tinymce.util.Tools.resolve"],function(t){return t("tinymce.util.I18n")}),l("tinymce.plugins.textcolor.ui.ColorPickerHtml",["tinymce.core.dom.DOMUtils","tinymce.core.util.I18n","tinymce.plugins.textcolor.api.Settings","tinymce.plugins.textcolor.core.TextColor"],function(t,o,e,r){return{getHtml:function(e,n,l,i){var c,a,u,s,m,g,d,f=0,p=t.DOM.uniqueId("mcearia"),C=function(t,e){var r="transparent"===t;return'<td class="mce-grid-cell'+(r?" mce-colorbtn-trans":"")+'"><div id="'+p+"-"+f+++'" data-mce-color="'+(t||"")+'" role="option" tabIndex="-1" style="'+(t?"background-color: "+t:"")+'" title="'+o.translate(e)+'">'+(r?"&#215;":"")+"</div></td>"};for(c=r.mapColors(l),c.push({text:o.translate("No color"),color:"transparent"}),u='<table class="mce-grid mce-grid-border mce-colorbutton-grid" role="list" cellspacing="0"><tbody>',s=c.length-1,g=0;g<n;g++){for(u+="<tr>",m=0;m<e;m++)d=g*e+m,d>s?u+="<td></td>":(a=c[d],u+=C(a.color,a.text));u+="</tr>"}if(i){for(u+='<tr><td colspan="'+e+'" class="mce-custom-color-btn"><div id="'+p+'-c" class="mce-widget mce-btn mce-btn-small mce-btn-flat" role="button" tabindex="-1" aria-labelledby="'+p+'-c" style="width: 100%"><button type="button" role="presentation" tabindex="-1">'+o.translate("Custom...")+"</button></div></td></tr>",u+="<tr>",m=0;m<e;m++)u+=C("","Custom color");u+="</tr>"}return u+="</tbody></table>"}}}),l("tinymce.plugins.textcolor.ui.Buttons",["tinymce.core.dom.DOMUtils","tinymce.core.util.Tools","tinymce.plugins.textcolor.api.Settings","tinymce.plugins.textcolor.core.TextColor","tinymce.plugins.textcolor.ui.ColorPickerHtml"],function(t,o,e,r,n){var l=function(t,o){t.style.background=o,t.setAttribute("data-mce-color",o)},i=function(t){return function(o){var e=o.control;e._color?r.applyFormat(t,e.settings.format,e._color):r.removeFormat(t,e.settings.format)}},c=function(n,i){return function(c){var a,u=this.parent(),s=r.getCurrentColor(n,u.settings.format),m=function(t){u.hidePanel(),u.color(t),r.applyFormat(n,u.settings.format,t)},g=function(){u.hidePanel(),u.resetColor(),r.removeFormat(n,u.settings.format)};t.DOM.getParent(c.target,".mce-custom-color-btn")&&(u.hidePanel(),e.getColorPickerCallback(n).call(n,function(t){var e,r,n,c=u.panel.getEl().getElementsByTagName("table")[0];for(e=o.map(c.rows[c.rows.length-1].childNodes,function(t){return t.firstChild}),n=0;n<e.length&&(r=e[n],r.getAttribute("data-mce-color"));n++);if(n===i)for(n=0;n<i-1;n++)l(e[n],e[n+1].getAttribute("data-mce-color"));l(r,t),m(t)},s)),a=c.target.getAttribute("data-mce-color"),a?(this.lastId&&t.DOM.get(this.lastId).setAttribute("aria-selected",!1),c.target.setAttribute("aria-selected",!0),this.lastId=c.target.id,"transparent"===a?g():m(a)):null!==a&&u.hidePanel()}},a=function(t,o){return function(){var r=o?e.getForeColorCols(t):e.getBackColorCols(t),l=o?e.getForeColorRows(t):e.getBackColorRows(t),i=o?e.getForeColorMap(t):e.getBackColorMap(t),c=e.hasColorPicker(t);return n.getHtml(r,l,i,c)}};return{register:function(t){t.addButton("forecolor",{type:"colorbutton",tooltip:"Text color",format:"forecolor",panel:{role:"application",ariaRemember:!0,html:a(t,!0),onclick:c(t,e.getForeColorCols(t))},onclick:i(t)}),t.addButton("backcolor",{type:"colorbutton",tooltip:"Background color",format:"hilitecolor",panel:{role:"application",ariaRemember:!0,html:a(t,!1),onclick:c(t,e.getBackColorCols(t))},onclick:i(t)})}}}),l("tinymce.plugins.textcolor.Plugin",["tinymce.core.PluginManager","tinymce.plugins.textcolor.ui.Buttons"],function(t,o){return t.add("textcolor",function(t){o.register(t)}),function(){}}),r("tinymce.plugins.textcolor.Plugin")()}();
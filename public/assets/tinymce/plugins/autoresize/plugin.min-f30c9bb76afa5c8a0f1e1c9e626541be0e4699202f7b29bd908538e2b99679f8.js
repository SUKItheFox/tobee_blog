!function(){var e={},t=function(t){for(var n=e[t],o=n.deps,r=n.defn,u=o.length,a=new Array(u),f=0;f<u;++f)a[f]=i(o[f]);var s=r.apply(null,a);if(void 0===s)throw"module ["+t+"] returned undefined";n.instance=s},n=function(t,n,i){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===i)throw"no definition function for "+t;e[t]={deps:n,defn:i,instance:void 0}},i=function(n){var i=e[n];if(void 0===i)throw"module ["+n+"] was undefined";return void 0===i.instance&&t(n),i.instance},o=function(e,t){for(var n=e.length,o=new Array(n),r=0;r<n;++r)o[r]=i(e[r]);t.apply(null,o)};({}).bolt={module:{api:{define:n,require:o,demand:i}}};var r=n,u=function(e,t){r(e,[],function(){return t})};r("1",[],function(){var e=function(t){var n=t,i=function(){return n};return{get:i,set:function(e){n=e},clone:function(){return e(i())}}};return e}),u("5",tinymce.util.Tools.resolve),r("2",["5"],function(e){return e("tinymce.PluginManager")}),r("6",["5"],function(e){return e("tinymce.Env")}),r("7",["5"],function(e){return e("tinymce.util.Delay")}),r("8",[],function(){return{getAutoResizeMinHeight:function(e){return parseInt(e.getParam("autoresize_min_height",e.getElement().offsetHeight),10)},getAutoResizeMaxHeight:function(e){return parseInt(e.getParam("autoresize_max_height",0),10)},getAutoResizeOverflowPadding:function(e){return e.getParam("autoresize_overflow_padding",1)},getAutoResizeBottomMargin:function(e){return e.getParam("autoresize_bottom_margin",50)},shouldAutoResizeOnInit:function(e){return e.getParam("autoresize_on_init",!0)}}}),r("4",["6","7","8"],function(e,t,n){var i=function(e){return e.plugins.fullscreen&&e.plugins.fullscreen.isFullscreen()},o=function(e,n,i,r,a){t.setEditorTimeout(e,function(){u(e,n),i--?o(e,n,i,r,a):a&&a()},r)},r=function(e,t){var n=e.getBody();n&&(n.style.overflowY=t?"":"hidden",t||(n.scrollTop=0))},u=function(t,o){var a,f,s,g,d,c,l,m,p,h,v,y=t.dom;if(f=t.getDoc()){if(i(t))return void r(t,!0);s=f.body,g=n.getAutoResizeMinHeight(t),c=y.getStyle(s,"margin-top",!0),l=y.getStyle(s,"margin-bottom",!0),m=y.getStyle(s,"padding-top",!0),p=y.getStyle(s,"padding-bottom",!0),h=y.getStyle(s,"border-top-width",!0),v=y.getStyle(s,"border-bottom-width",!0),d=s.offsetHeight+parseInt(c,10)+parseInt(l,10)+parseInt(m,10)+parseInt(p,10)+parseInt(h,10)+parseInt(v,10),(isNaN(d)||d<=0)&&(d=e.ie?s.scrollHeight:e.webkit&&0===s.clientHeight?0:s.offsetHeight),d>n.getAutoResizeMinHeight(t)&&(g=d);var z=n.getAutoResizeMaxHeight(t);z&&d>z?(g=z,r(t,!0)):r(t,!1),g!==o.get()&&(a=g-o.get(),y.setStyle(t.iframeElement,"height",g+"px"),o.set(g),e.webKit&&a<0&&u(t))}};return{setup:function(e,t){e.on("init",function(){var t,i,o=e.dom;t=n.getAutoResizeOverflowPadding(e),i=n.getAutoResizeBottomMargin(e),!1!==t&&o.setStyles(e.getBody(),{paddingLeft:t,paddingRight:t}),!1!==i&&o.setStyles(e.getBody(),{paddingBottom:i})}),e.on("nodechange setcontent keyup FullscreenStateChanged",function(){u(e,t)}),n.shouldAutoResizeOnInit(e)&&e.on("init",function(){o(e,t,20,100,function(){o(e,t,5,1e3)})})},resize:u}}),r("3",["4"],function(e){return{register:function(t,n){t.addCommand("mceAutoResize",function(){e.resize(t,n)})}}}),r("0",["1","2","3","4"],function(e,t,n,i){return t.add("autoresize",function(t){if(!t.inline){var o=e(0);n.register(t,o),i.setup(t,o)}}),function(){}}),i("0")()}();
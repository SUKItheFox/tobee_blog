!function(){var n={},t=function(t){for(var e=n[t],o=e.deps,u=e.defn,i=o.length,f=new Array(i),c=0;c<i;++c)f[c]=r(o[c]);var a=u.apply(null,f);if(void 0===a)throw"module ["+t+"] returned undefined";e.instance=a},e=function(t,e,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===e)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;n[t]={deps:e,defn:r,instance:void 0}},r=function(e){var r=n[e];if(void 0===r)throw"module ["+e+"] was undefined";return void 0===r.instance&&t(e),r.instance},o=function(n,t){for(var e=n.length,o=new Array(e),u=0;u<e;++u)o[u]=r(n[u]);t.apply(null,o)};({}).bolt={module:{api:{define:e,require:o,demand:r}}};var u=e,i=function(n,t){u(n,[],function(){return t})};u("1",[],function(){var n=function(t){var e=t,r=function(){return e};return{get:r,set:function(n){e=n},clone:function(){return n(r())}}};return n}),i("5",tinymce.util.Tools.resolve),u("2",["5"],function(n){return n("tinymce.PluginManager")}),u("3",[],function(){return{get:function(n){return{isContextMenuVisible:function(){return n.get()}}}}}),u("6",["5"],function(n){return n("tinymce.dom.DOMUtils")}),u("7",["5"],function(n){return n("tinymce.Env")}),u("8",[],function(){return{shouldNeverUseNative:function(n){return n.settings.contextmenu_never_use_native},getContextMenu:function(n){return n.getParam("contextmenu","link openlink image inserttable | cell row column deletetable")}}}),i("f",Array),i("g",Error),u("i",["f","g"],function(n,t){var e=function(){},r=function(n,t){return function(){return n(t.apply(null,arguments))}},o=function(n){return function(){return n}},u=function(n){return n},i=function(n,t){return n===t},f=function(t){for(var e=new n(arguments.length-1),r=1;r<arguments.length;r++)e[r-1]=arguments[r];return function(){for(var r=new n(arguments.length),o=0;o<r.length;o++)r[o]=arguments[o];var u=e.concat(r);return t.apply(null,u)}};return{noop:e,compose:r,constant:o,identity:u,tripleEquals:i,curry:f,not:function(n){return function(){return!n.apply(null,arguments)}},die:function(n){return function(){throw new t(n)}},apply:function(n){return n()},call:function(n){n()},never:o(!1),always:o(!0)}}),i("j",Object),u("e",["i","j"],function(n,t){var e=n.never,r=n.always,o=function(){return u},u=function(){var u=function(n){return n.isNone()},i=function(n){return n()},f=function(n){return n},c=function(){},a={fold:function(n){return n()},is:e,isSome:e,isNone:r,getOr:f,getOrThunk:i,getOrDie:function(n){throw new Error(n||"error: getOrDie called on none.")},or:f,orThunk:i,map:o,ap:o,each:c,bind:o,flatten:o,exists:e,forall:r,filter:o,equals:u,equals_:u,toArray:function(){return[]},toString:n.constant("none()")};return t.freeze&&t.freeze(a),a}(),i=function(n){var t=function(){return n},f=function(){return l},c=function(t){return i(t(n))},a=function(t){return t(n)},l={fold:function(t,e){return e(n)},is:function(t){return n===t},isSome:r,isNone:e,getOr:t,getOrThunk:t,getOrDie:t,or:f,orThunk:f,map:c,ap:function(t){return t.fold(o,function(t){return i(t(n))})},each:function(t){t(n)},bind:a,flatten:t,exists:a,forall:a,filter:function(t){return t(n)?l:u},equals:function(t){return t.is(n)},equals_:function(t,r){return t.fold(e,function(t){return r(n,t)})},toArray:function(){return[n]},toString:function(){return"some("+n+")"}};return l};return{some:i,none:o,from:function(n){return null===n||void 0===n?u:i(n)}}}),i("h",String),u("b",["e","f","g","h"],function(n,t,e,r){var o=function(){var n=t.prototype.indexOf,e=function(t,e){return n.call(t,e)},r=function(n,t){return x(n,t)};return void 0===n?r:e}(),u=function(t,e){var r=o(t,e);return-1===r?n.none():n.some(r)},i=function(n,t){return o(n,t)>-1},f=function(n,t){return w(n,t).isSome()},c=function(n,t){for(var e=[],r=0;r<n;r++)e.push(t(r));return e},a=function(n,t){for(var e=[],r=0;r<n.length;r+=t){var o=n.slice(r,r+t);e.push(o)}return e},l=function(n,e){for(var r=n.length,o=new t(r),u=0;u<r;u++){var i=n[u];o[u]=e(i,u,n)}return o},s=function(n,t){for(var e=0,r=n.length;e<r;e++){t(n[e],e,n)}},v=function(n,t){for(var e=n.length-1;e>=0;e--){t(n[e],e,n)}},g=function(n,t){for(var e=[],r=[],o=0,u=n.length;o<u;o++){var i=n[o];(t(i,o,n)?e:r).push(i)}return{pass:e,fail:r}},h=function(n,t){for(var e=[],r=0,o=n.length;r<o;r++){var u=n[r];t(u,r,n)&&e.push(u)}return e},p=function(n,t){if(0===n.length)return[];for(var e=t(n[0]),r=[],o=[],u=0,i=n.length;u<i;u++){var f=n[u],c=t(f);c!==e&&(r.push(o),o=[]),e=c,o.push(f)}return 0!==o.length&&r.push(o),r},d=function(n,t,e){return v(n,function(n){e=t(e,n)}),e},m=function(n,t,e){return s(n,function(n){e=t(e,n)}),e},y=function(t,e){for(var r=0,o=t.length;r<o;r++){var u=t[r];if(e(u,r,t))return n.some(u)}return n.none()},w=function(t,e){for(var r=0,o=t.length;r<o;r++){if(e(t[r],r,t))return n.some(r)}return n.none()},x=function(n,t){for(var e=0,r=n.length;e<r;++e)if(n[e]===t)return e;return-1},b=t.prototype.push,O=function(n){for(var r=[],o=0,u=n.length;o<u;++o){if(!t.prototype.isPrototypeOf(n[o]))throw new e("Arr.flatten item "+o+" was not an array, input: "+n);b.apply(r,n[o])}return r},T=function(n,t){var e=l(n,t);return O(e)},k=function(n,t){for(var e=0,r=n.length;e<r;++e){if(!0!==t(n[e],e,n))return!1}return!0},A=function(n,t){return n.length===t.length&&k(n,function(n,e){return n===t[e]})},C=t.prototype.slice;return{map:l,each:s,eachr:v,partition:g,filter:h,groupBy:p,indexOf:u,foldr:d,foldl:m,find:y,findIndex:w,flatten:O,bind:T,forall:k,exists:f,contains:i,equal:A,reverse:function(n){var t=C.call(n,0);return t.reverse(),t},chunk:a,difference:function(n,t){return h(n,function(n){return!i(t,n)})},mapToObject:function(n,t){for(var e={},o=0,u=n.length;o<u;o++){var i=n[o];e[r(i)]=t(i,o)}return e},pure:function(n){return[n]},sort:function(n,t){var e=C.call(n,0);return e.sort(t),e},range:c,head:function(t){return 0===t.length?n.none():n.some(t[0])},last:function(t){return 0===t.length?n.none():n.some(t[t.length-1])}}}),u("9",["b"],function(n){var t=function(n,t,e){return t>=n.left&&t<=n.right&&e>=n.top&&e<=n.bottom};return{isXYWithinRange:function(e,r,o){return!o.collapsed&&n.foldl(o.getClientRects(),function(n,o){return n||t(o,e,r)},!1)}}}),u("c",["5"],function(n){return n("tinymce.ui.Factory")}),u("d",["5"],function(n){return n("tinymce.util.Tools")}),u("a",["c","d","8"],function(n,t,e){var r=function(r,o){var u,i,f=[];i=e.getContextMenu(r),t.each(i.split(/[ ,]/),function(n){var t=r.menuItems[n];"|"===n&&(t={text:n}),t&&(t.shortcut="",f.push(t))});for(var c=0;c<f.length;c++)"|"===f[c].text&&(0!==c&&c!==f.length-1||f.splice(c,1));return u=n.create("menu",{items:f,context:"contextmenu",classes:"contextmenu"}).renderTo(),u.on("hide",function(n){n.control===this&&o.set(!1)}),r.on("remove",function(){u.remove(),u=null}),u};return{show:function(n,t,e,o,u){null===u.get()?u.set(r(n,o)):u.get().show(),u.get().moveTo(t,e),o.set(!0)}}}),u("4",["6","7","8","9","a"],function(n,t,e,r,o){var u=function(n,t){return t.ctrlKey&&!e.shouldNeverUseNative(n)},i=function(){return t.mac&&t.webkit},f=function(n){return n&&"IMG"===n.nodeName},c=function(n,t){return f(n.target)&&!1===r.isXYWithinRange(n.clientX,n.clientY,t)};return{setup:function(t,e,r){t.on("mousedown",function(n){i()&&2===n.button&&!u(t,n)&&t.selection.isCollapsed()&&t.once("contextmenu",function(n){f(n.target)||t.selection.placeCaretAt(n.clientX,n.clientY)})}),t.on("contextmenu",function(i){var f=i.pageX,a=i.pageY;if(!t.inline){var l=n.DOM.getPos(t.getContentAreaContainer());f=l.x+i.clientX,a=l.y+i.clientY}u(t,i)||(c(i,t.selection.getRng())&&t.selection.select(i.target),i.preventDefault(),o.show(t,f,a,e,r))})}}}),u("0",["1","2","3","4"],function(n,t,e,r){return t.add("contextmenu",function(t){var o=n(null),u=n(!1);return r.setup(t,u,o),e.get(u)}),function(){}}),r("0")()}();
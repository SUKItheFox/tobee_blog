!function(){var e={},n=function(n){for(var t=e[n],i=t.deps,a=t.defn,o=i.length,c=new Array(o),l=0;l<o;++l)c[l]=r(i[l]);var d=a.apply(null,c);if(d===undefined)throw"module ["+n+"] returned undefined";t.instance=d},t=function(n,t,r){if("string"!=typeof n)throw"module id must be a string";if(t===undefined)throw"no dependencies for "+n;if(r===undefined)throw"no definition function for "+n;e[n]={deps:t,defn:r,instance:undefined}},r=function(t){var r=e[t];if(r===undefined)throw"module ["+t+"] was undefined";return r.instance===undefined&&n(t),r.instance},i=function(e,n){for(var t=e.length,i=new Array(t),a=0;a<t;++a)i[a]=r(e[a]);n.apply(null,i)};({}).bolt={module:{api:{define:t,require:i,demand:r}}};var a=t,o=function(e,n){a(e,[],function(){return n})};a("ephox.katamari.api.Cell",[],function(){var e=function(n){var t=n,r=function(){return t};return{get:r,set:function(e){t=e},clone:function(){return e(r())}}};return e}),o("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),a("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),a("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Tools")}),a("tinymce.plugins.searchreplace.core.FindReplaceText",[],function(){function e(e){return e&&1===e.nodeType&&"false"===e.contentEditable}function n(n,t,r,i,a){function o(e,n){if(n=n||0,!e[0])throw"findAndReplaceDOMText cannot handle zero-length matches";var t=e.index;if(n>0){var r=e[n];if(!r)throw"Invalid capture group";t+=e[0].indexOf(r),e[0]=r}return[t,t+e[0].length,[e[0]]]}function c(n){var t;if(3===n.nodeType)return n.data;if(g[n.nodeName]&&!p[n.nodeName])return"";if(t="",e(n))return"\n";if((p[n.nodeName]||m[n.nodeName])&&(t+="\n"),n=n.firstChild)do{t+=c(n)}while(n=n.nextSibling);return t}function l(n,t,r){var i,a,o,c,l=[],d=0,s=n,u=t.shift(),f=0;e:for(;;){if((p[s.nodeName]||m[s.nodeName]||e(s))&&d++,3===s.nodeType&&(!a&&s.length+d>=u[1]?(a=s,c=u[1]-d):i&&l.push(s),!i&&s.length+d>u[0]&&(i=s,o=u[0]-d),d+=s.length),i&&a){if(s=r({startNode:i,startNodeIndex:o,endNode:a,endNodeIndex:c,innerNodes:l,match:u[2],matchIndex:f}),d-=a.length-c,i=null,a=null,l=[],u=t.shift(),f++,!u)break}else if(g[s.nodeName]&&!p[s.nodeName]||!s.firstChild){if(s.nextSibling){s=s.nextSibling;continue}}else if(!e(s)){s=s.firstChild;continue}for(;;){if(s.nextSibling){s=s.nextSibling;break}if(s.parentNode===n)break e;s=s.parentNode}}}function d(e){var n;if("function"!=typeof e){var t=e.nodeType?e:f.createElement(e);n=function(e,n){var r=t.cloneNode(!1);return r.setAttribute("data-mce-index",n),e&&r.appendChild(f.createTextNode(e)),r}}else n=e;return function(e){var t,r,i,a=e.startNode,o=e.endNode,c=e.matchIndex;if(a===o){var l=a;i=l.parentNode,e.startNodeIndex>0&&(t=f.createTextNode(l.data.substring(0,e.startNodeIndex)),i.insertBefore(t,l));var d=n(e.match[0],c);return i.insertBefore(d,l),e.endNodeIndex<l.length&&(r=f.createTextNode(l.data.substring(e.endNodeIndex)),i.insertBefore(r,l)),l.parentNode.removeChild(l),d}t=f.createTextNode(a.data.substring(0,e.startNodeIndex)),r=f.createTextNode(o.data.substring(e.endNodeIndex));for(var s=n(a.data.substring(e.startNodeIndex),c),u=[],p=0,g=e.innerNodes.length;p<g;++p){var m=e.innerNodes[p],h=n(m.data,c);m.parentNode.replaceChild(h,m),u.push(h)}var v=n(o.data.substring(0,e.endNodeIndex),c);return i=a.parentNode,i.insertBefore(t,a),i.insertBefore(s,a),i.removeChild(a),i=o.parentNode,i.insertBefore(v,o),i.insertBefore(r,o),i.removeChild(o),v}}var s,u,f,p,g,m,h=[],v=0;if(f=t.ownerDocument,p=a.getBlockElements(),g=a.getWhiteSpaceElements(),m=a.getShortEndedElements(),u=c(t)){if(n.global)for(;s=n.exec(u);)h.push(o(s,i));else s=u.match(n),h.push(o(s,i));return h.length&&(v=h.length,l(t,h,d(r))),v}}return{findAndReplaceDOMText:n}}),a("tinymce.plugins.searchreplace.core.Actions",["tinymce.core.util.Tools","tinymce.plugins.searchreplace.core.FindReplaceText"],function(e,n){var t=function(e){var n=e.getAttribute("data-mce-index");return"number"==typeof n?""+n:n},r=function(e,t,r){var i,a;return a=e.dom.create("span",{"data-mce-bogus":1}),a.className="mce-match-marker",i=e.getBody(),p(e,t,!1),n.findAndReplaceDOMText(r,i,a,!1,e.schema)},i=function(e){var n=e.parentNode;e.firstChild&&n.insertBefore(e.firstChild,e),e.parentNode.removeChild(e)},a=function(n,r){var i,a=[];if(i=e.toArray(n.getBody().getElementsByTagName("span")),i.length)for(var o=0;o<i.length;o++){var c=t(i[o]);null!==c&&c.length&&(c===r.toString()&&a.push(i[o]))}return a},o=function(e,n,t){var r=n.get(),i=e.dom;t=!1!==t,t?r++:r--,i.removeClass(a(e,n.get()),"mce-match-marker-selected");var o=a(e,r);return o.length?(i.addClass(a(e,r),"mce-match-marker-selected"),e.selection.scrollIntoView(o[0]),r):-1},c=function(e,n){var t=n.parentNode;e.remove(n),e.isEmpty(t)&&e.remove(t)},l=function(e,n,t,i,a){t=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),t=t.replace(/\s/g,"\\s"),t=a?"\\b"+t+"\\b":t;var c=r(e,n,new RegExp(t,i?"g":"gi"));return c&&(n.set(-1),n.set(o(e,n,!0))),c},d=function(e,n){var t=o(e,n,!0);-1!==t&&n.set(t)},s=function(e,n){var t=o(e,n,!1);-1!==t&&n.set(t)},u=function(e){var n=t(e);return null!==n&&n.length>0},f=function(n,r,a,o,l){var f,p,h,v,x,b,y=r.get();for(o=!1!==o,h=n.getBody(),p=e.grep(e.toArray(h.getElementsByTagName("span")),u),f=0;f<p.length;f++){var N=t(p[f]);if(v=x=parseInt(N,10),l||v===r.get()){for(a.length?(p[f].firstChild.nodeValue=a,i(p[f])):c(n.dom,p[f]);p[++f];){if((v=parseInt(t(p[f]),10))!==x){f--;break}c(n.dom,p[f])}o&&y--}else x>r.get()&&p[f].setAttribute("data-mce-index",x-1)}return n.undoManager.add(),r.set(y),o?(b=g(n,r),d(n,r)):(b=m(n,r),s(n,r)),!l&&b},p=function(n,r,a){var o,c,l,d;for(c=e.toArray(n.getBody().getElementsByTagName("span")),o=0;o<c.length;o++){var s=t(c[o]);null!==s&&s.length&&(s===r.get().toString()&&(l||(l=c[o].firstChild),d=c[o].firstChild),i(c[o]))}if(l&&d){var u=n.dom.createRng();return u.setStart(l,0),u.setEnd(d,d.data.length),!1!==a&&n.selection.setRng(u),u}},g=function(e,n){return a(e,n.get()+1).length>0},m=function(e,n){return a(e,n.get()-1).length>0};return{done:p,find:l,next:d,prev:s,replace:f,hasNext:g,hasPrev:m}}),a("tinymce.plugins.searchreplace.api.Api",["tinymce.plugins.searchreplace.core.Actions"],function(e){return{get:function(n,t){return{done:function(r){return e.done(n,t,r)},find:function(r,i,a){return e.find(n,t,r,i,a)},next:function(){return e.next(n,t)},prev:function(){return e.prev(n,t)},replace:function(r,i,a){return e.replace(n,t,r,i,a)}}}}}),a("tinymce.plugins.searchreplace.ui.Dialog",["tinymce.core.util.Tools","tinymce.plugins.searchreplace.core.Actions"],function(e,n){return{open:function(t,r){function i(){l.statusbar.find("#next").disabled(!1===n.hasNext(t,r)),l.statusbar.find("#prev").disabled(!1===n.hasPrev(t,r))}function a(){t.windowManager.alert("Could not find the specified string.",function(){l.find("#find")[0].focus()})}var o,c={};o=e.trim(t.selection.getContent({format:"text"}));var l=t.windowManager.open({layout:"flex",pack:"center",align:"center",onClose:function(){t.focus(),n.done(t,r)},onSubmit:function(e){var o,d,s,u;return e.preventDefault(),d=l.find("#case").checked(),u=l.find("#words").checked(),s=l.find("#find").value(),s.length?c.text===s&&c.caseState===d&&c.wholeWord===u?n.hasNext(t,r)?(n.next(t,r),void i()):void a():(o=n.find(t,r,s,d,u),o||a(),l.statusbar.items().slice(1).disabled(0===o),i(),void(c={text:s,caseState:d,wholeWord:u})):(n.done(t,r,!1),void l.statusbar.items().slice(1).disabled(!0))},buttons:[{text:"Find",subtype:"primary",onclick:function(){l.submit()}},{text:"Replace",disabled:!0,onclick:function(){n.replace(t,r,l.find("#replace").value())||(l.statusbar.items().slice(1).disabled(!0),r.set(-1),c={})}},{text:"Replace all",disabled:!0,onclick:function(){n.replace(t,r,l.find("#replace").value(),!0,!0),l.statusbar.items().slice(1).disabled(!0),c={}}},{type:"spacer",flex:1},{text:"Prev",name:"prev",disabled:!0,onclick:function(){n.prev(t,r),i()}},{text:"Next",name:"next",disabled:!0,onclick:function(){n.next(t,r),i()}}],title:"Find and replace",items:{type:"form",padding:20,labelGap:30,spacing:10,items:[{type:"textbox",name:"find",size:40,label:"Find",value:o},{type:"textbox",name:"replace",size:40,label:"Replace with"},{type:"checkbox",name:"case",text:"Match case",label:" "},{type:"checkbox",name:"words",text:"Whole words",label:" "}]}})}}}),a("tinymce.plugins.searchreplace.api.Commands",["tinymce.plugins.searchreplace.ui.Dialog"],function(e){return{register:function(n,t){n.addCommand("SearchReplace",function(){e.open(n,t)})}}}),a("tinymce.plugins.searchreplace.ui.Buttons",["tinymce.plugins.searchreplace.ui.Dialog"],function(e){var n=function(n,t){return function(){e.open(n,t)}};return{register:function(e,t){e.addMenuItem("searchreplace",{text:"Find and replace",shortcut:"Meta+F",onclick:n(e,t),separator:"before",context:"edit"}),e.addButton("searchreplace",{tooltip:"Find and replace",onclick:n(e,t)}),e.shortcuts.add("Meta+F","",n(e,t))}}}),a("tinymce.plugins.searchreplace.Plugin",["ephox.katamari.api.Cell","tinymce.core.PluginManager","tinymce.plugins.searchreplace.api.Api","tinymce.plugins.searchreplace.api.Commands","tinymce.plugins.searchreplace.ui.Buttons"],function(e,n,t,r,i){return n.add("searchreplace",function(n){var a=e(-1);return r.register(n,a),i.register(n,a),t.get(n,a)}),function(){}}),r("tinymce.plugins.searchreplace.Plugin")()}();
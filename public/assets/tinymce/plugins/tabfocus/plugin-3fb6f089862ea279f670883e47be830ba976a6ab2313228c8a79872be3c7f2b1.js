!function(){var e={},n=function(n){for(var t=e[n],o=t.deps,r=t.defn,u=o.length,l=new Array(u),c=0;c<u;++c)l[c]=i(o[c]);var a=r.apply(null,l);if(a===undefined)throw"module ["+n+"] returned undefined";t.instance=a},t=function(n,t,i){if("string"!=typeof n)throw"module id must be a string";if(t===undefined)throw"no dependencies for "+n;if(i===undefined)throw"no definition function for "+n;e[n]={deps:t,defn:i,instance:undefined}},i=function(t){var i=e[t];if(i===undefined)throw"module ["+t+"] was undefined";return i.instance===undefined&&n(t),i.instance},o=function(e,n){for(var t=e.length,o=new Array(t),r=0;r<t;++r)o[r]=i(e[r]);n.apply(null,o)};({}).bolt={module:{api:{define:t,require:o,demand:i}}};var r=t,u=function(e,n){r(e,[],function(){return n})};u("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),r("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),u("global!window",window),r("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.dom.DOMUtils")}),r("tinymce.core.EditorManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.EditorManager")}),r("tinymce.core.Env",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.Env")}),r("tinymce.core.util.Delay",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Delay")}),r("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Tools")}),r("tinymce.core.util.VK",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.VK")}),r("tinymce.plugins.tabfocus.api.Settings",[],function(){var e=function(e){return e.getParam("tabfocus_elements",":prev,:next")};return{getTabFocus:function(n){return n.getParam("tab_focus",e(n))}}}),r("tinymce.plugins.tabfocus.core.Keyboard",["global!window","tinymce.core.dom.DOMUtils","tinymce.core.EditorManager","tinymce.core.Env","tinymce.core.util.Delay","tinymce.core.util.Tools","tinymce.core.util.VK","tinymce.plugins.tabfocus.api.Settings"],function(e,n,t,i,o,r,u,l){var c=n.DOM,a=function(e){e.keyCode!==u.TAB||e.ctrlKey||e.altKey||e.metaKey||e.preventDefault()};return{setup:function(n){function f(a){function f(e){function i(e){return"BODY"===e.nodeName||"hidden"!==e.type&&"none"!==e.style.display&&"hidden"!==e.style.visibility&&i(e.parentNode)}function o(e){return/INPUT|TEXTAREA|BUTTON/.test(e.tagName)&&t.get(a.id)&&-1!==e.tabIndex&&i(e)}if(d=c.select(":input:enabled,*[tabindex]:not(iframe)"),r.each(d,function(e,t){if(e.id===n.id)return s=t,!1}),e>0){for(m=s+1;m<d.length;m++)if(o(d[m]))return d[m]}else for(m=s-1;m>=0;m--)if(o(d[m]))return d[m];return null}var s,d,y,m;if(!(a.keyCode!==u.TAB||a.ctrlKey||a.altKey||a.metaKey||a.isDefaultPrevented())&&(y=r.explode(l.getTabFocus(n)),1===y.length&&(y[1]=y[0],y[0]=":prev"),d=a.shiftKey?":prev"===y[0]?f(-1):c.get(y[0]):":next"===y[1]?f(1):c.get(y[1]))){var g=t.get(d.id||d.name);d.id&&g?g.focus():o.setTimeout(function(){i.webkit||e.focus(),d.focus()},10),a.preventDefault()}}n.on("init",function(){n.inline&&c.setAttrib(n.getBody(),"tabIndex",null),n.on("keyup",a),i.gecko?n.on("keypress keydown",f):n.on("keydown",f)})}}}),r("tinymce.plugins.tabfocus.Plugin",["tinymce.core.PluginManager","tinymce.plugins.tabfocus.core.Keyboard"],function(e,n){return e.add("tabfocus",function(e){n.setup(e)}),function(){}}),i("tinymce.plugins.tabfocus.Plugin")()}();
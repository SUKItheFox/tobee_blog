!function(){var e={},n=function(n){for(var t=e[n],r=t.deps,l=t.defn,u=r.length,o=new Array(u),c=0;c<u;++c)o[c]=i(r[c]);var s=l.apply(null,o);if(s===undefined)throw"module ["+n+"] returned undefined";t.instance=s},t=function(n,t,i){if("string"!=typeof n)throw"module id must be a string";if(t===undefined)throw"no dependencies for "+n;if(i===undefined)throw"no definition function for "+n;e[n]={deps:t,defn:i,instance:undefined}},i=function(t){var i=e[t];if(i===undefined)throw"module ["+t+"] was undefined";return i.instance===undefined&&n(t),i.instance},r=function(e,n){for(var t=e.length,r=new Array(t),l=0;l<t;++l)r[l]=i(e[l]);n.apply(null,r)};({}).bolt={module:{api:{define:t,require:r,demand:i}}};var l=t,u=function(e,n){l(e,[],function(){return n})};l("ephox.katamari.api.Cell",[],function(){var e=function(n){var t=n,i=function(){return t};return{get:i,set:function(e){t=e},clone:function(){return e(i())}}};return e}),u("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),l("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),l("tinymce.plugins.fullscreen.api.Api",[],function(){return{get:function(e){return{isFullscreen:function(){return null!==e.get()}}}}}),u("global!document",document),u("global!window",window),l("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.dom.DOMUtils")}),l("tinymce.plugins.fullscreen.api.Events",[],function(){return{fireFullscreenStateChanged:function(e,n){e.fire("FullscreenStateChanged",{state:n})}}}),l("tinymce.plugins.fullscreen.core.Actions",["global!document","global!window","tinymce.core.dom.DOMUtils","tinymce.plugins.fullscreen.api.Events"],function(e,n,t,i){var r=t.DOM,l=function(){var t,i,r=n,l=e,u=l.body;return u.offsetWidth&&(t=u.offsetWidth,i=u.offsetHeight),r.innerWidth&&r.innerHeight&&(t=r.innerWidth,i=r.innerHeight),{w:t,h:i}},u=function(){var e=r.getViewPort();return{x:e.x,y:e.y}},o=function(e){n.scrollTo(e.x,e.y)};return{toggleFullscreen:function(t,c){var s,a,f,d,g=e.body,m=e.documentElement,h=c.get(),y=function(){r.setStyle(f,"height",l().h-(a.clientHeight-f.clientHeight))},p=function(){r.unbind(n,"resize",y)};if(a=t.getContainer(),s=a.style,f=t.getContentAreaContainer().firstChild,d=f.style,h)d.width=h.iframeWidth,d.height=h.iframeHeight,h.containerWidth&&(s.width=h.containerWidth),h.containerHeight&&(s.height=h.containerHeight),r.removeClass(g,"mce-fullscreen"),r.removeClass(m,"mce-fullscreen"),r.removeClass(a,"mce-fullscreen"),o(h.scrollPos),r.unbind(n,"resize",h.resizeHandler),t.off("remove",h.removeHandler),c.set(null),i.fireFullscreenStateChanged(t,!1);else{var v={scrollPos:u(),containerWidth:s.width,containerHeight:s.height,iframeWidth:d.width,iframeHeight:d.height,resizeHandler:y,removeHandler:p};d.width=d.height="100%",s.width=s.height="",r.addClass(g,"mce-fullscreen"),r.addClass(m,"mce-fullscreen"),r.addClass(a,"mce-fullscreen"),r.bind(n,"resize",y),t.on("remove",p),y(),c.set(v),i.fireFullscreenStateChanged(t,!0)}}}}),l("tinymce.plugins.fullscreen.api.Commands",["tinymce.plugins.fullscreen.core.Actions"],function(e){return{register:function(n,t){n.addCommand("mceFullScreen",function(){e.toggleFullscreen(n,t)})}}}),l("tinymce.plugins.fullscreen.ui.Buttons",[],function(){var e=function(e){return function(n){var t=n.control;e.on("FullscreenStateChanged",function(e){t.active(e.state)})}};return{register:function(n){n.addMenuItem("fullscreen",{text:"Fullscreen",shortcut:"Ctrl+Shift+F",selectable:!0,cmd:"mceFullScreen",onPostRender:e(n),context:"view"}),n.addButton("fullscreen",{tooltip:"Fullscreen",cmd:"mceFullScreen",onPostRender:e(n)})}}}),l("tinymce.plugins.fullscreen.Plugin",["ephox.katamari.api.Cell","tinymce.core.PluginManager","tinymce.plugins.fullscreen.api.Api","tinymce.plugins.fullscreen.api.Commands","tinymce.plugins.fullscreen.ui.Buttons"],function(e,n,t,i,r){return n.add("fullscreen",function(n){var l=e(null);return i.register(n,l),r.register(n),n.addShortcut("Ctrl+Shift+F","","mceFullScreen"),t.get(l)}),function(){}}),i("tinymce.plugins.fullscreen.Plugin")()}();
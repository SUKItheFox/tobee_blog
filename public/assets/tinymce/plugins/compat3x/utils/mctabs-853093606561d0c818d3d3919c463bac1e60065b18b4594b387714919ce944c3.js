function MCTabs(){this.settings=[],this.onChange=tinyMCEPopup.editor.windowManager.createInstance("tinymce.util.Dispatcher")}MCTabs.prototype.init=function(t){this.settings=t},MCTabs.prototype.getParam=function(t,e){var n=null;return n="undefined"==typeof this.settings[t]?e:this.settings[t],"true"==n||"false"==n?"true"==n:n},MCTabs.prototype.showTab=function(t){t.className="current",t.setAttribute("aria-selected",!0),t.setAttribute("aria-expanded",!0),t.tabIndex=0},MCTabs.prototype.hideTab=function(t){t.className="",t.setAttribute("aria-selected",!1),t.setAttribute("aria-expanded",!1),t.tabIndex=-1},MCTabs.prototype.showPanel=function(t){t.className="current",t.setAttribute("aria-hidden",!1)},MCTabs.prototype.hidePanel=function(t){t.className="panel",t.setAttribute("aria-hidden",!0)},MCTabs.prototype.getPanelForTab=function(t){return tinyMCEPopup.dom.getAttrib(t,"aria-controls")},MCTabs.prototype.displayTab=function(t,e,n){var a,i,o,s,r,c,d=this;if(o=document.getElementById(t),e===undefined&&(e=d.getPanelForTab(o)),a=document.getElementById(e),i=a?a.parentNode:null,s=o?o.parentNode:null,d.getParam("selection_class","current"),o&&s){for(r=s.childNodes,c=0;c<r.length;c++)"LI"==r[c].nodeName&&d.hideTab(r[c]);d.showTab(o)}if(a&&i){for(r=i.childNodes,c=0;c<r.length;c++)"DIV"==r[c].nodeName&&d.hidePanel(r[c]);n||o.focus(),d.showPanel(a)}},MCTabs.prototype.getAnchor=function(){var t,e=document.location.href;return-1!=(t=e.lastIndexOf("#"))?e.substring(t+1):""};var mcTabs=new MCTabs;tinyMCEPopup.onInit.add(function(){var t=tinyMCEPopup.getWin().tinymce,e=tinyMCEPopup.dom,n=t.each;n(e.select("div.tabs"),function(a){e.setAttrib(a,"role","tablist");var i=tinyMCEPopup.dom.select("li",a),o=function(t){mcTabs.displayTab(t,mcTabs.getPanelForTab(t)),mcTabs.onChange.dispatch(t)};n(i,function(t){e.setAttrib(t,"role","tab"),e.bind(t,"click",function(){o(t.id)})}),e.bind(e.getRoot(),"keydown",function(e){9===e.keyCode&&e.ctrlKey&&!e.altKey&&t.dom.Event.cancel(e)}),n(e.select("a",a),function(t){e.setAttrib(t,"tabindex","-1")})})});
!function(){var e={},t=function(t){for(var n=e[t],a=n.deps,i=n.defn,u=a.length,o=new Array(u),l=0;l<u;++l)o[l]=r(a[l]);var c=i.apply(null,o);if(void 0===c)throw"module ["+t+"] returned undefined";n.instance=c},n=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},r=function(n){var r=e[n];if(void 0===r)throw"module ["+n+"] was undefined";return void 0===r.instance&&t(n),r.instance},a=function(e,t){for(var n=e.length,a=new Array(n),i=0;i<n;++i)a[i]=r(e[i]);t.apply(null,a)};({}).bolt={module:{api:{define:n,require:a,demand:r}}};var i=n,u=function(e,t){i(e,[],function(){return t})};i("1",[],function(){var e=function(t){var n=t,r=function(){return n};return{get:r,set:function(e){n=e},clone:function(){return e(r())}}};return e}),u("5",tinymce.util.Tools.resolve),i("2",["5"],function(e){return e("tinymce.PluginManager")}),i("6",[],function(){return{shouldHideInSourceView:function(e){return e.getParam("fullpage_hide_in_source_view")},getDefaultXmlPi:function(e){return e.getParam("fullpage_default_xml_pi")},getDefaultEncoding:function(e){return e.getParam("fullpage_default_encoding")},getDefaultFontFamily:function(e){return e.getParam("fullpage_default_font_family")},getDefaultFontSize:function(e){return e.getParam("fullpage_default_font_size")},getDefaultTextColor:function(e){return e.getParam("fullpage_default_text_color")},getDefaultTitle:function(e){return e.getParam("fullpage_default_title")},getDefaultDocType:function(e){return e.getParam("fullpage_default_doctype","<!DOCTYPE html>")}}}),i("8",["5"],function(e){return e("tinymce.util.Tools")}),i("9",[],function(){var e=function(e){return e.getParam("insertdatetime_dateformat",e.translate("%Y-%m-%d"))},t=function(e){return e.getParam("insertdatetime_timeformat",e.translate("%H:%M:%S"))},n=function(e){return e.getParam("insertdatetime_formats",["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"])};return{getDateFormat:e,getTimeFormat:t,getFormats:n,getDefaultDateTime:function(e){var r=n(e);return r.length>0?r[0]:t(e)},shouldInsertTimeElement:function(e){return e.getParam("insertdatetime_element",!1)}}}),i("7",["8","9"],function(e,t){var n="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),r="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),a="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),i="January February March April May June July August September October November December".split(" "),u=function(e,t){if(e=""+e,e.length<t)for(var n=0;n<t-e.length;n++)e="0"+e;return e},o=function(e,t,o){return o=o||new Date,t=t.replace("%D","%m/%d/%Y"),t=t.replace("%r","%I:%M:%S %p"),t=t.replace("%Y",""+o.getFullYear()),t=t.replace("%y",""+o.getYear()),t=t.replace("%m",u(o.getMonth()+1,2)),t=t.replace("%d",u(o.getDate(),2)),t=t.replace("%H",""+u(o.getHours(),2)),t=t.replace("%M",""+u(o.getMinutes(),2)),t=t.replace("%S",""+u(o.getSeconds(),2)),t=t.replace("%I",""+((o.getHours()+11)%12+1)),t=t.replace("%p",o.getHours()<12?"AM":"PM"),t=t.replace("%B",""+e.translate(i[o.getMonth()])),t=t.replace("%b",""+e.translate(a[o.getMonth()])),t=t.replace("%A",""+e.translate(r[o.getDay()])),t=t.replace("%a",""+e.translate(n[o.getDay()])),t=t.replace("%%","%")},l=function(e,t,n,r){var a=e.dom.create("time",{datetime:n},r);t.parentNode.insertBefore(a,t),e.dom.remove(t),e.selection.select(a,!0),e.selection.collapse(!1)};return{insertDateTime:function(e,n){if(t.shouldInsertTimeElement(e)){var r,a=o(e,n);r=/%[HMSIp]/.test(n)?o(e,"%Y-%m-%dT%H:%M"):o(e,"%Y-%m-%d");var i=e.dom.getParent(e.selection.getStart(),"time");i?l(e,i,r,a):e.insertContent('<time datetime="'+r+'">'+a+"</time>")}else e.insertContent(o(e,n))},getDateTime:o}}),i("3",["6","7"],function(e,t){return{register:function(n){n.addCommand("mceInsertDate",function(){t.insertDateTime(n,e.getDateFormat())}),n.addCommand("mceInsertTime",function(){t.insertDateTime(n,e.getTimeFormat())})}}}),i("4",["8","9","7"],function(e,t,n){var r=function(r,a){var i=t.getFormats(r);return e.map(i,function(e){return{text:n.getDateTime(r,e),onclick:function(){a.set(e),n.insertDateTime(r,e)}}})};return{register:function(e,a){var i=r(e,a);e.addButton("insertdatetime",{type:"splitbutton",title:"Insert date/time",menu:i,onclick:function(){var r=a.get();n.insertDateTime(e,r||t.getDefaultDateTime(e))}}),e.addMenuItem("insertdatetime",{icon:"date",text:"Date/time",menu:i,context:"insert"})}}}),i("0",["1","2","3","4"],function(e,t,n,r){return t.add("insertdatetime",function(t){var a=e(null);n.register(t),r.register(t,a)}),function(){}}),r("0")()}();
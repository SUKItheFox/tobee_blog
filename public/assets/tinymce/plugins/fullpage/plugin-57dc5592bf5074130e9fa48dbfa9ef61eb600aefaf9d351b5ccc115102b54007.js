!function(){var e={},t=function(t){for(var n=e[t],i=n.deps,l=n.defn,o=i.length,a=new Array(o),u=0;u<o;++u)a[u]=r(i[u]);var c=l.apply(null,a);if(void 0===c)throw"module ["+t+"] returned undefined";n.instance=c},n=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},r=function(n){var r=e[n];if(void 0===r)throw"module ["+n+"] was undefined";return void 0===r.instance&&t(n),r.instance},i=function(e,t){for(var n=e.length,i=new Array(n),l=0;l<n;++l)i[l]=r(e[l]);t.apply(null,i)};({}).bolt={module:{api:{define:n,require:i,demand:r}}};var l=n,o=function(e,t){l(e,[],function(){return t})};l("1",[],function(){var e=function(t){var n=t,r=function(){return n};return{get:r,set:function(e){n=e},clone:function(){return e(r())}}};return e}),o("6",tinymce.util.Tools.resolve),l("2",["6"],function(e){return e("tinymce.PluginManager")}),l("8",["6"],function(e){return e("tinymce.util.Tools")}),l("c",["6"],function(e){return e("tinymce.html.DomParser")}),l("d",["6"],function(e){return e("tinymce.html.Node")}),l("e",["6"],function(e){return e("tinymce.html.Serializer")}),l("9",[],function(){return{shouldHideInSourceView:function(e){return e.getParam("fullpage_hide_in_source_view")},getDefaultXmlPi:function(e){return e.getParam("fullpage_default_xml_pi")},getDefaultEncoding:function(e){return e.getParam("fullpage_default_encoding")},getDefaultFontFamily:function(e){return e.getParam("fullpage_default_font_family")},getDefaultFontSize:function(e){return e.getParam("fullpage_default_font_size")},getDefaultTextColor:function(e){return e.getParam("fullpage_default_text_color")},getDefaultTitle:function(e){return e.getParam("fullpage_default_title")},getDefaultDocType:function(e){return e.getParam("fullpage_default_doctype","<!DOCTYPE html>")}}}),l("a",["c","d","e","8","9"],function(e,t,n,r,i){var l=function(t){return new e({validate:!1,root_name:"#document"}).parse(t)};return{parseHeader:l,htmlToData:function(e,t){function n(e,t){return e.attr(t)||""}var o,a,u=l(t),c={};return c.fontface=i.getDefaultFontFamily(e),c.fontsize=i.getDefaultFontSize(e),o=u.firstChild,7===o.type&&(c.xml_pi=!0,(a=/encoding="([^"]+)"/.exec(o.value))&&(c.docencoding=a[1])),o=u.getAll("#doctype")[0],o&&(c.doctype="<!DOCTYPE"+o.value+">"),o=u.getAll("title")[0],o&&o.firstChild&&(c.title=o.firstChild.value),r.each(u.getAll("meta"),function(e){var t,n=e.attr("name"),r=e.attr("http-equiv");n?c[n.toLowerCase()]=e.attr("content"):"Content-Type"===r&&(t=/charset\s*=\s*(.*)\s*/gi.exec(e.attr("content")))&&(c.docencoding=t[1])}),o=u.getAll("html")[0],o&&(c.langcode=n(o,"lang")||n(o,"xml:lang")),c.stylesheets=[],r.each(u.getAll("link"),function(e){"stylesheet"===e.attr("rel")&&c.stylesheets.push(e.attr("href"))}),o=u.getAll("body")[0],o&&(c.langdir=n(o,"dir"),c.style=n(o,"style"),c.visited_color=n(o,"vlink"),c.link_color=n(o,"link"),c.active_color=n(o,"alink")),c},dataToHtml:function(e,i,o){function a(e,t,n){e.attr(t,n||void 0)}function u(e){d.firstChild?d.insert(e,d.firstChild):d.append(e)}var c,d,f,s,g,m=e.dom;c=l(o),d=c.getAll("head")[0],d||(s=c.getAll("html")[0],d=new t("head",1),s.firstChild?s.insert(d,s.firstChild,!0):s.append(d)),s=c.firstChild,i.xml_pi?(g='version="1.0"',i.docencoding&&(g+=' encoding="'+i.docencoding+'"'),7!==s.type&&(s=new t("xml",7),c.insert(s,c.firstChild,!0)),s.value=g):s&&7===s.type&&s.remove(),s=c.getAll("#doctype")[0],i.doctype?(s||(s=new t("#doctype",10),i.xml_pi?c.insert(s,c.firstChild):u(s)),s.value=i.doctype.substring(9,i.doctype.length-1)):s&&s.remove(),s=null,r.each(c.getAll("meta"),function(e){"Content-Type"===e.attr("http-equiv")&&(s=e)}),i.docencoding?(s||(s=new t("meta",1),s.attr("http-equiv","Content-Type"),s.shortEnded=!0,u(s)),s.attr("content","text/html; charset="+i.docencoding)):s&&s.remove(),s=c.getAll("title")[0],i.title?(s?s.empty():(s=new t("title",1),u(s)),s.append(new t("#text",3)).value=i.title):s&&s.remove(),r.each("keywords,description,author,copyright,robots".split(","),function(e){var n,r,l=c.getAll("meta"),o=i[e];for(n=0;n<l.length;n++)if(r=l[n],r.attr("name")===e)return void(o?r.attr("content",o):r.remove());o&&(s=new t("meta",1),s.attr("name",e),s.attr("content",o),s.shortEnded=!0,u(s))});var p={};return r.each(c.getAll("link"),function(e){"stylesheet"===e.attr("rel")&&(p[e.attr("href")]=e)}),r.each(i.stylesheets,function(e){p[e]||(s=new t("link",1),s.attr({rel:"stylesheet",text:"text/css",href:e}),s.shortEnded=!0,u(s)),delete p[e]}),r.each(p,function(e){e.remove()}),s=c.getAll("body")[0],s&&(a(s,"dir",i.langdir),a(s,"style",i.style),a(s,"vlink",i.visited_color),a(s,"link",i.link_color),a(s,"alink",i.active_color),m.setAttribs(e.getBody(),{style:i.style,dir:i.dir,vLink:i.visited_color,link:i.link_color,aLink:i.active_color})),s=c.getAll("html")[0],s&&(a(s,"lang",i.langcode),a(s,"xml:lang",i.langcode)),d.firstChild||d.remove(),f=new n({validate:!1,indent:!0,apply_source_formatting:!0,indent_before:"head,html,body,meta,title,script,link,style",indent_after:"head,html,body,meta,title,script,link,style"}).serialize(c),f.substring(0,f.indexOf("</body>"))}}}),l("7",["8","a"],function(e,t){return{open:function(n,r){var i=t.htmlToData(n,r.get());n.windowManager.open({title:"Document properties",data:i,defaults:{type:"textbox",size:40},body:[{name:"title",label:"Title"},{name:"keywords",label:"Keywords"},{name:"description",label:"Description"},{name:"robots",label:"Robots"},{name:"author",label:"Author"},{name:"docencoding",label:"Encoding"}],onSubmit:function(l){var o=t.dataToHtml(n,e.extend(i,l.data),r.get());r.set(o)}})}}}),l("3",["7"],function(e){return{register:function(t,n){t.addCommand("mceFullPageProperties",function(){e.open(t,n)})}}}),l("b",["8"],function(e){return{protectHtml:function(t,n){return e.each(t,function(e){n=n.replace(e,function(e){return"<!--mce:protected "+escape(e)+"-->"})}),n},unprotectHtml:function(e){return e.replace(/<!--mce:protected ([\s\S]*?)-->/g,function(e,t){return unescape(t)})}}}),l("4",["8","9","a","b"],function(e,t,n,r){var i=e.each,l=function(e){return e.replace(/<\/?[A-Z]+/g,function(e){return e.toLowerCase()})},o=function(o,u,c,d){var f,s,g,m,p,h="",y=o.dom;if(!(d.selection||(g=r.protectHtml(o.settings.protect,d.content),"raw"===d.format&&u.get()||d.source_view&&t.shouldHideInSourceView(o)))){0!==g.length||d.source_view||(g=e.trim(u.get())+"\n"+e.trim(g)+"\n"+e.trim(c.get())),g=g.replace(/<(\/?)BODY/gi,"<$1body"),f=g.indexOf("<body"),-1!==f?(f=g.indexOf(">",f),u.set(l(g.substring(0,f+1))),s=g.indexOf("</body",f),-1===s&&(s=g.length),d.content=e.trim(g.substring(f+1,s)),c.set(l(g.substring(s)))):(u.set(a(o)),c.set("\n</body>\n</html>")),m=n.parseHeader(u.get()),i(m.getAll("style"),function(e){e.firstChild&&(h+=e.firstChild.value)}),p=m.getAll("body")[0],p&&y.setAttribs(o.getBody(),{style:p.attr("style")||"",dir:p.attr("dir")||"",vLink:p.attr("vlink")||"",link:p.attr("link")||"",aLink:p.attr("alink")||""}),y.remove("fullpage_styles");var v=o.getDoc().getElementsByTagName("head")[0];h&&(y.add(v,"style",{id:"fullpage_styles"},h),p=y.get("fullpage_styles"),p.styleSheet&&(p.styleSheet.cssText=h));var _={};e.each(v.getElementsByTagName("link"),function(e){"stylesheet"===e.rel&&e.getAttribute("data-mce-fullpage")&&(_[e.href]=e)}),e.each(m.getAll("link"),function(e){var t=e.attr("href");return!t||(_[t]||"stylesheet"!==e.attr("rel")||y.add(v,"link",{rel:"stylesheet",text:"text/css",href:t,"data-mce-fullpage":"1"}),void delete _[t])}),e.each(_,function(e){e.parentNode.removeChild(e)})}},a=function(e){var n,r="",i="";if(t.getDefaultXmlPi(e)){var l=t.getDefaultEncoding(e);r+='<?xml version="1.0" encoding="'+(l||"ISO-8859-1")+'" ?>\n'}return r+=t.getDefaultDocType(e),r+="\n<html>\n<head>\n",(n=t.getDefaultTitle(e))&&(r+="<title>"+n+"</title>\n"),(n=t.getDefaultEncoding(e))&&(r+='<meta http-equiv="Content-Type" content="text/html; charset='+n+'" />\n'),(n=t.getDefaultFontFamily(e))&&(i+="font-family: "+n+";"),(n=t.getDefaultFontSize(e))&&(i+="font-size: "+n+";"),(n=t.getDefaultTextColor(e))&&(i+="color: "+n+";"),r+="</head>\n<body"+(i?' style="'+i+'"':"")+">\n"},u=function(n,i,l,o){o.selection||o.source_view&&t.shouldHideInSourceView(n)||(o.content=r.unprotectHtml(e.trim(i)+"\n"+e.trim(o.content)+"\n"+e.trim(l)))};return{setup:function(e,t,n){e.on("BeforeSetContent",function(r){o(e,t,n,r)}),e.on("GetContent",function(r){u(e,t.get(),n.get(),r)})}}}),l("5",[],function(){return{register:function(e){e.addButton("fullpage",{title:"Document properties",cmd:"mceFullPageProperties"}),e.addMenuItem("fullpage",{text:"Document properties",cmd:"mceFullPageProperties",context:"file"})}}}),l("0",["1","2","3","4","5"],function(e,t,n,r,i){return t.add("fullpage",function(t){var l=e(""),o=e("");n.register(t,l),i.register(t),r.setup(t,l,o)}),function(){}}),r("0")()}();